{% extends 'base.html' %}

{% block body %}
<div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-semibold text-gray-800">Your Cars</h2>
    <form action="{{ url_for('upload_file') }}" method="POST" enctype="multipart/form-data" class="glass p-4 flex space-x-2 items-center">
        <input type="text" name="name" placeholder="Car Name" class="px-2 py-1 rounded outline-none" required>
        <input type="file" name="image" class="px-2 py-1 rounded" accept="image/*" required>
        <input type="text" name="notes" placeholder="Notes" class="px-2 py-1 rounded">
        <button type="submit" class="px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition">Add</button>
    </form>
</div>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    {% for car in cars %}
    <div class="glass p-4 flex flex-col items-center">
        <img class="thumb" src="{{ url_for('static', filename='uploads/' ~ car.image_filename) }}" alt="{{ car.name }}">
        <h3 class="text-lg font-bold">{{ car.name }}</h3>
        <p class="text-sm text-gray-700">{{ car.notes }}</p>
        <div class="mt-3 flex space-x-2">
            <a href="{{ url_for('car_detail', car_id=car.id) }}" class="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition">Details</a>
            <form action="{{ url_for('delete_car', car_id=car.id) }}" method="POST" onsubmit="return confirm('Delete this car?')">
                <button type="submit" class="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition">Delete</button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
